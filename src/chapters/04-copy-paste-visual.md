# 복사, 붙여넣기 및 비주얼 모드
vim의 기본 동작은 OS 클립보드로 복사하지 않고, 대신 `레지스터`로 복사합니다. 이 레지스터는 OS 클립보드일 수도 있습니다.

## 레지스터를 지정하여 복사 및 붙여넣기
텍스트를 yank (복사)하려면, `일반` 모드에서 `y` 연산자와 `이동`을 조합하여 텍스트를 복사하거나, `v`로 `비주얼` 모드에 들어가서 `y`로 텍스트를 복사할 수 있습니다.

텍스트를 `변경`하거나 `삭제`할 때도 텍스트가 레지스터로 복사됩니다.

복사된 결과를 붙여넣으려면 다음을 사용할 수 있습니다:
* `p` - 커서 뒤에 붙여넣기
* `P` - 커서 앞에 붙여넣기
* `<M-p> (Alt+p)` - 입력 모드에서 붙여넣기

## 비주얼 모드 (Visual Modes)
* `v` - 일반 비주얼 모드
* `V` - 비주얼 라인 모드, 줄 단위로 텍스트 선택
* `<C-v>` - 비주얼 블록 모드, 블록 단위로 텍스트 선택

비주얼 모드로 교체할 텍스트를 선택한 후 새 텍스트를 붙여넣어 텍스트를 교체할 수 있습니다. 이 작업은 교체된 텍스트도 레지스터로 복사합니다.

## 레지스터 (Registers)
복사 대상을 지정하려면 `"`를 사용합니다. 
예를 들어 레지스터 `a`로 복사하려면 다음 키를 누릅니다: `"ay<이동>"`.

붙여넣기도 마찬가지입니다: `"ap`.

텍스트를 레지스터로 옮기지 않고 삭제하고 싶을 때는 `_` (블랙홀 레지스터)를 사용합니다.

레지스터로 할 수 있는 많은 작업이 있습니다. `:help registers`를 간략하게 읽어보는 것을 제안합니다.

### 복사 없이 삭제/변경/교체하는 바인딩
```lua
map('x', '<leader>p', '"_dP', '복사 없이 교체')

map('n', '<leader>d', '"_d', '복사 없이 삭제') -- 예: <leader>dd는 현재 줄을 복사하지 않고 삭제
map('n', '<leader>D', '"_D', '줄 끝까지 복사 없이 삭제')

map('n', '<leader>c', '"_c', '복사 없이 변경')
map('n', '<leader>C', '"_C', '줄 끝까지 복사 없이 변경')
```

## OS 클립보드 사용
`+`는 OS 클립보드 레지스터이며, 여기에 복사하거나 여기서 붙여넣을 수 있습니다.

저는 OS 클립보드를 적은 키 입력으로 사용하기 위해 다음 바인딩을 사용합니다:
```lua
map('', '<leader>y', '"+y', '클립보드로 복사') -- 예: <leader>yy는 현재 줄을 OS 클립보드로 복사
map('', '<leader>Y', '"+y$', '줄 끝까지 클립보드로 복사')

map('n', '<leader>p', '"+p', '클립보드에서 커서 뒤에 붙여넣기')
map('n', '<leader>P', '"+P', '클립보드에서 커서 앞에 붙여넣기')
```

## 플러그인
### 붙여넣기/복사 개선
* [yanky.nvim](https://github.com/gbprod/yanky.nvim) - `레지스터`를 사용하는 대신 붙여넣기 후 복사 기록을 빠르게 순환합니다.
* [peekup](https://github.com/gennaro-tedesco/nvim-peekup) - vim 레지스터와 동적으로 상호 작용합니다.
* [registers.nvim](https://github.com/tversteeg/registers.nvim) - 레지스터에서 복사하거나 레지스터로 복사하기 전에 레지스터를 봅니다.
